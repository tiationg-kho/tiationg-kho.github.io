<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel=icon href=/favicons/favicon.ico><title>Graph | Tiationg's Portfolio</title>
<meta name=description content="Starred by 25+ users, GitHub Repo: LeetCode Pattern 500 offers:
500 solutions for LeetCode problems in Python and Java 17 notes on essential concepts related to data structures and algorithms 130 patterns for solving LeetCode problems graph intro A graph is most commonly stored as a hashmap/list of adjacency lists/sets: for each vertex, store a list/set of its neighbors how to build graph is important often use elements inside set can be tuples graph = defaultdict(set) notice: tree is a special graph with properties that connected acyclic non-direction edges one path between any two vertices/nodes graph dfs pattern DFS time O(|V| + |E|) space O(|V|) for visited hashset, and recursion stack (not counting building graph) DFS is better at searching for long paths memorizing res for long paths detecting cycles # dfs graph = defaultdict(set) for p, q in edges: graph[p]."><meta property="og:url" content="https://tiationg-kho.github.io/blog/2024/06/13/graph/"><meta property="og:site_name" content="Tiationg's Portfolio"><meta property="og:title" content="Graph"><meta property="og:description" content="Starred by 25+ users, GitHub Repo: LeetCode Pattern 500 offers:
500 solutions for LeetCode problems in Python and Java 17 notes on essential concepts related to data structures and algorithms 130 patterns for solving LeetCode problems graph intro A graph is most commonly stored as a hashmap/list of adjacency lists/sets: for each vertex, store a list/set of its neighbors how to build graph is important often use elements inside set can be tuples graph = defaultdict(set) notice: tree is a special graph with properties that connected acyclic non-direction edges one path between any two vertices/nodes graph dfs pattern DFS time O(|V| + |E|) space O(|V|) for visited hashset, and recursion stack (not counting building graph) DFS is better at searching for long paths memorizing res for long paths detecting cycles # dfs graph = defaultdict(set) for p, q in edges: graph[p]."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2024-06-13T00:00:00+00:00"><meta property="article:modified_time" content="2024-06-14T00:08:22-07:00"><meta property="article:tag" content="LeetCode"><meta property="article:tag" content="Graph"><meta property="article:tag" content="DFS"><meta property="article:tag" content="BFS"><meta property="article:tag" content="UnionFind"><meta property="article:tag" content="Kahn"><meta itemprop=name content="Graph"><meta itemprop=description content="Starred by 25+ users, GitHub Repo: LeetCode Pattern 500 offers:
500 solutions for LeetCode problems in Python and Java 17 notes on essential concepts related to data structures and algorithms 130 patterns for solving LeetCode problems graph intro A graph is most commonly stored as a hashmap/list of adjacency lists/sets: for each vertex, store a list/set of its neighbors how to build graph is important often use elements inside set can be tuples graph = defaultdict(set) notice: tree is a special graph with properties that connected acyclic non-direction edges one path between any two vertices/nodes graph dfs pattern DFS time O(|V| + |E|) space O(|V|) for visited hashset, and recursion stack (not counting building graph) DFS is better at searching for long paths memorizing res for long paths detecting cycles # dfs graph = defaultdict(set) for p, q in edges: graph[p]."><meta itemprop=datePublished content="2024-06-13T00:00:00+00:00"><meta itemprop=dateModified content="2024-06-14T00:08:22-07:00"><meta itemprop=wordCount content="2551"><meta itemprop=keywords content="LeetCode,Graph,DFS,BFS,UnionFind,Kahn,Dijkstra,BellmanFord,FloydWarshall,Kruskal,Tarjan,Hierholzer,Matrix"><meta name=twitter:card content="summary"><meta name=twitter:title content="Graph"><meta name=twitter:description content="Starred by 25+ users, GitHub Repo: LeetCode Pattern 500 offers:
500 solutions for LeetCode problems in Python and Java 17 notes on essential concepts related to data structures and algorithms 130 patterns for solving LeetCode problems graph intro A graph is most commonly stored as a hashmap/list of adjacency lists/sets: for each vertex, store a list/set of its neighbors how to build graph is important often use elements inside set can be tuples graph = defaultdict(set) notice: tree is a special graph with properties that connected acyclic non-direction edges one path between any two vertices/nodes graph dfs pattern DFS time O(|V| + |E|) space O(|V|) for visited hashset, and recursion stack (not counting building graph) DFS is better at searching for long paths memorizing res for long paths detecting cycles # dfs graph = defaultdict(set) for p, q in edges: graph[p]."><link rel=preload href=/scss/main.min.b40955b39447f824a2c7a5136798c8bccbc4844e6d531f0c4a02ee3b3802cdf3.css as=style><link href=/scss/main.min.b40955b39447f824a2c7a5136798c8bccbc4844e6d531f0c4a02ee3b3802cdf3.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script></head><body class="td-page td-blog"><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"><svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="25pt" height="25pt" viewBox="0 0 1024 1024"><g transform="translate(0.000000,1024.000000) scale(0.100000,-0.100000)" fill="#000" stroke="none"><path d="M3418 7415c-34-76 85-357 196-460 34-32 90-111 148-210 43-75 138-283 138-303 0-8-24-47-54-86-29-39-66-93-82-121-15-27-38-63-50-80-12-16-42-64-67-106-24-42-63-1e2-86-129-22-28-41-56-41-62 0-5 15-28 33-51 78-98 76-201-12-487-22-74-41-147-41-163 0-38-76-146-187-268-420-457-597-666-591-698 2-8 30-23 63-33 75-24 159-87 184-136 16-33 27-71 63-223 7-34 14-39 71-62 150-60 288-61 577-3 235 47 392 76 443 82l58 6 121 137c67 75 140 156 163 181 119 133 275 280 323 304l51 26h474c327 0 485 4 508 11 46 16 96 65 110 108 15 45 4 718-13 771-6 19-17 43-26 53-21 24-180 73-281 87-131 18-147 29-171 119-7 27-28 61-56 91-42 45-93 153-94 2e2.0 8-24 29-52 45-51 30-53 32-75 110-19 65-23 105-24 221 0 146 9 193 44 223 10 7 17 19 17 25 0 17 55 47 74 40 20-8 118-139 149-2e2 13-27 27-72 31-1e2 3-28 15-69 26-92 11-22 22-71 26-109 5-61 3-72-18-103-29-43-63-62-105-57-26 2-33-1-33-14 0-10-3-24-6-32-3-10 15-38 49-75 53-58 85-114 108-192l12-38 81-7c133-12 242-39 276-70 8-7 28-15 45-17 21-2 35-13 50-38 18-32 20-57 26-315 8-409 6-555-10-585-19-36-61-79-96-98-27-15-83-17-530-17l-5e2-1-45-23c-46-24-88-65-227-217l-82-90 62-13c52-11 69-20 108-59 54-54 86-131 90-213 1-30 4-59 7-66 2-7 34-38 70-69 64-54 160-146 507-483 222-217 484-465 5e2-473 7-5 36-38 65-74 47-60 54-65 78-58 15 4 53 9 86 10 32 2 59 4 60 6s13 19 26 38c24 35 169 210 182 220 4 3 42 49 85 101 43 53 148 178 233 279s191 227 235 279c43 52 115 133 160 181 44 47 130 144 190 215 61 71 147 168 193 216 50 53 83 96 84 111 0 13 3 34 6 48 2 14 6 95 8 180 4 123 1 182-15 285-27 174-105 558-127 620-41 118-125 207-309 327-153 99-208 130-580 317-154 77-291 147-305 155-46 27-134 68-198 92-35 13-85 35-112 49s-56 25-63 25c-11 0-4-42 30-182 68-283 68-304 1-230-33 37-37 49-77 248-77 387-89 439-131 563-45 137-122 3e2-175 373-72 98-152 130-220 88-52-32-129-129-174-219-24-47-57-93-85-119-25-23-46-49-46-57 0-19-19-19-26 0-9 23-21 18-28-10-5-21-12-25-34-22-20 2-32 13-48 46-11 24-36 55-54 69l-34 26-185-2c-193-3-2e2-2-326 45-37 14-54 27-65 50-18 37-85 93-111 93-16 0-43 32-44 52 0 4-27 24-60 44-138 85-307 184-313 184-4 1-29 11-57 24-38 18-55 21-71 14-15-7-28-7-40 1-17 9-16 10 10 11 34 0 32 5-7 14-23 5-29 2-39-19zm634-1921c20-12 68-55 109-96 20-21 39-38 42-38s-1 16-9 35c-18 43-18 45 1 45 9 0 28-20 44-45s48-63 72-84c43-39 44-40 24-56-14-11-16-18-7-21 6-3 12-12 12-20 0-10-12-14-42-14-23 0-71-7-106-16-39-10-87-14-121-12-58 5-176 36-168 45 3 2 40-1 83-7 90-12 216-3 174 12-14 5-56 16-95 24-38 8-95 26-125 42-50 25-53 27-27 30 15 2 27 5 27 7 0 15-44 102-56 108-8 4-14 15-14 23 0 12 5 12 33-2 17-10 63-22 1e2-29l68-11-45 39c-54 46-61 70-16 57 16-5 35-12 42-16z"/><path d="M3976 5352c-3-20-2-39 2-43 4-3 50-16 102-27 147-32 148-32 154-9 7 29 4 32-76 74-54 28-85 38-124 39l-52 2-6-36z"/><path d="M4260 5277c0-33 3-37 25-37 14 0 25 6 25 13 0 8-11 24-25 37l-25 23v-36z"/><path d="M5091 7130c-28-22-65-60-83-84-43-57-112-102-171-111-26-4-47-9-47-11s17-19 38-39c46-43 81-45 122-7 25 22 32 38 38 87 8 64 24 76 32 23l6-33 13 37c7 21 32 64 55 95 72 99 72 102-3 43z"/><path d="M5238 6503c-8-10-23-39-33-65-16-43-17-66-9-208l9-161 125-1 125-1-3 24c-8 58-45 161-64 179-23 21-23 22 5 37 17 9 15 14-21 56-22 25-55 71-74 101-18 31-36 56-39 56s-13-8-21-17z"/><path d="M3765 6480c-3-5-1-10 4-10 6 0 11 5 11 10 0 6-2 10-4 10-3 0-8-4-11-10z"/><path d="M5266 6021c-18-28 108-81 156-65 22 7 43 43 31 54-11 11-181 21-187 11z"/><path d="M3490 5808c0-8 9-27 20-41s20-28 20-32c0-11 33-34 48-35 18 0-13 51-55 92-23 22-33 27-33 16z"/><path d="M2717 4058c6-34 30-77 93-170 38-56 66-80 121-102l36-15-13 42c-7 23-18 71-24 107-9 56-16 70-48 99-44 40-106 70-144 71-26 0-27-2-21-32z"/><path d="M4460 4027c-14-6-77-66-140-133-63-68-122-125-130-128-8-2-37-7-65-11-1e2-12-181-25-240-40-72-18-316-65-365-71-19-2-80-7-135-10-89-6-113-4-204 20-56 14-115 33-131 41-36 18-46 19-28 2 12-12 45-28 51-25 1 0 22-9 45-21 24-12 46-20 50-17 3 3 12 1 19-6 35-28 374-16 588 22 33 5 79 11 102 13 24 1 43 4 43 7 0 5 103 28 163 36 15 2 36 8 46 13 10 6 21 7 25 4 3-3 6-1 6 5 0 7 14 12 31 12s37 7 45 15 21 12 29 9c8-4 15-1 15 6s6 10 13 7c8-3 20-1 28 4 12 7 12 9 0 9-17 0-6 13 14 16 7 1 30 7 49 14 23 7 41 8 53 2 10-5 26-8 35-7 10 2 16 0 15-3-1-4 2-8 7-9s12-7 17-15c4-7 15-13 23-13s28-12 45-27c17-16 33-28 36-28s17-10 30-22c59-57 74-68 89-68 9 0 16-5 16-11 0-5-5-7-12-3s-8 3-4-4 13-12 21-12c7 0 15-5 17-11 2-7 10-10 18-7 10 3 9 9-8 26-12 12-19 22-15 22s-3 9-15 20c-12 12-22 25-22 30 0 4-13 11-29 15-27 6-30 11-36 58-14 116-36 177-84 228-49 52-81 64-121 46z"/><path d="M7309 3903c-13-16-12-17 4-4s21 21 13 21c-2 0-10-8-17-17z"/><path d="M7189 3763c-13-16-12-17 4-4s21 21 13 21c-2 0-10-8-17-17z"/><path d="M2936 3731c5-5 21-13 37-16 21-6 27-4 27 9 0 12-10 16-37 16-23 0-33-4-27-9z"/><path d="M7114 3678l-19-23 23 19c12 11 22 21 22 23 0 8-8 2-26-19z"/><path d="M5570 2866c0-28 14-35 23-12 3 8-1 20-9 26-12 10-14 8-14-14z"/><path d="M5737 2709c29-49 106-127 133-135l25-7-20 24c-39 48-140 149-148 149-4 0 0-14 10-31z"/><path d="M6294 2708l-19-23 23 19c12 11 22 21 22 23 0 8-8 2-26-19z"/><path d="M6240 2638l-23-33 28 28c15 16 25 31 22 33-3 3-15-10-27-28z"/><path d="M5997 2543c-12-12 15-33 43-33 39 0 60 9 60 26 0 10-14 14-48 14-27 0-52-3-55-7z"/></g></svg></span><span class=navbar-brand__name>Tiationg's Portfolio</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class="nav-link active" href=/blog/><span>Blog</span></a></li></ul></div><div class="d-none d-lg-block"></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="td-sidebar-nav collapse" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-blog-li><a href=/blog/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-blog><span>Blog</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-blogleetcodenotes-li><a href=/blog/leetcodenotes/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-blogleetcodenotes><span>LeetCode Notes</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613tree-li><a href=/blog/2024/06/13/tree/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613tree><span>Tree</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613linked-list-li><a href=/blog/2024/06/13/linked-list/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613linked-list><span>Linked List</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613hashmap-li><a href=/blog/2024/06/13/hashmap/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613hashmap><span>Hashmap</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613binary-search-li><a href=/blog/2024/06/13/binary-search/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613binary-search><span>Binary Search</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613heap-li><a href=/blog/2024/06/13/heap/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613heap><span>Heap</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613string-li><a href=/blog/2024/06/13/string/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613string><span>String</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613trie-li><a href=/blog/2024/06/13/trie/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613trie><span>Trie</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613array-li><a href=/blog/2024/06/13/array/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613array><span>Array</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613stack-and-queue-li><a href=/blog/2024/06/13/stack-and-queue/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613stack-and-queue><span>Stack And Queue</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613backtracking-li><a href=/blog/2024/06/13/backtracking/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613backtracking><span>Backtracking</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-blog20240613graph-li><a href=/blog/2024/06/13/graph/ class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-blog20240613graph><span class=td-sidebar-nav-active-item>Graph</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613bit-manipulation-li><a href=/blog/2024/06/13/bit-manipulation/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613bit-manipulation><span>Bit Manipulation</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613dynamic-programming-li><a href=/blog/2024/06/13/dynamic-programming/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613dynamic-programming><span>Dynamic Programming</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613greedy-li><a href=/blog/2024/06/13/greedy/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613greedy><span>Greedy</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613math-li><a href=/blog/2024/06/13/math/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613math><span>Math</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613segment-tree-li><a href=/blog/2024/06/13/segment-tree/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613segment-tree><span>Segment Tree</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613basic-li><a href=/blog/2024/06/13/basic/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613basic><span>Basic</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-blogspringinterviewquestions-li><a href=/blog/springinterviewquestions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-blogspringinterviewquestions><span>Spring Interview Questions</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613spring-framework-li><a href=/blog/2024/06/13/spring-framework/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613spring-framework><span>Spring Framework</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613inversion-of-control-ioc-li><a href=/blog/2024/06/13/inversion-of-control-ioc/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613inversion-of-control-ioc><span>Inversion of Control (IoC)</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613dependency-injection-di-li><a href=/blog/2024/06/13/dependency-injection-di/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613dependency-injection-di><span>Dependency Injection (DI)</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613bean-li><a href=/blog/2024/06/13/bean/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613bean><span>Bean</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613inversion-of-control-ioc-container-li><a href=/blog/2024/06/13/inversion-of-control-ioc-container/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613inversion-of-control-ioc-container><span>Inversion of Control (IoC) Container</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613aspect-oriented-programming-aop-li><a href=/blog/2024/06/13/aspect-oriented-programming-aop/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613aspect-oriented-programming-aop><span>Aspect-Oriented Programming (AOP)</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613springbootapplication-li><a href=/blog/2024/06/13/@springbootapplication/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613springbootapplication><span>@SpringBootApplication</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613autowired-li><a href=/blog/2024/06/13/@autowired/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613autowired><span>@Autowired</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613postconstruct-li><a href=/blog/2024/06/13/@postconstruct/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613postconstruct><span>@PostConstruct</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613value-li><a href=/blog/2024/06/13/@value/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613value><span>@Value</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613restcontroller-service-repository-component-li><a href=/blog/2024/06/13/@restcontroller-@service-@repository-@component/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613restcontroller-service-repository-component><span>@RestController, @Service, @Repository, @Component</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613request-mapping-li><a href=/blog/2024/06/13/request-mapping/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613request-mapping><span>Request Mapping</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613data-binding-validation-li><a href=/blog/2024/06/13/data-binding-validation/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613data-binding-validation><span>Data Binding, Validation</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613object-relational-mapping-orm-li><a href=/blog/2024/06/13/object-relational-mapping-orm/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613object-relational-mapping-orm><span>Object-Relational Mapping (ORM)</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613lombak-li><a href=/blog/2024/06/13/lombak/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613lombak><span>Lombak</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613authentication-authorization-li><a href=/blog/2024/06/13/authentication-authorization/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613authentication-authorization><span>Authentication, Authorization</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613crossorigin-li><a href=/blog/2024/06/13/@crossorigin/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613crossorigin><span>@CrossOrigin</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613exception-handling-li><a href=/blog/2024/06/13/exception-handling/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613exception-handling><span>Exception Handling</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613interceptor-li><a href=/blog/2024/06/13/interceptor/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613interceptor><span>Interceptor</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613transactional-li><a href=/blog/2024/06/13/@transactional/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613transactional><span>@Transactional</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613consume-rest-services-li><a href=/blog/2024/06/13/consume-rest-services/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613consume-rest-services><span>Consume REST Services</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-blogjavainterviewquestions-li><a href=/blog/javainterviewquestions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-blogjavainterviewquestions><span>Java Interview Questions</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613keyword-li><a href=/blog/2024/06/13/keyword/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613keyword><span>Keyword</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613jdk-vs-jre-vs-jvm-li><a href=/blog/2024/06/13/jdk-vs-jre-vs-jvm/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613jdk-vs-jre-vs-jvm><span>JDK vs JRE vs JVM</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613object-vs-class-li><a href=/blog/2024/06/13/object-vs-class/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613object-vs-class><span>Object vs Class</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613constructor-li><a href=/blog/2024/06/13/constructor/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613constructor><span>Constructor</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613encapsulation-li><a href=/blog/2024/06/13/encapsulation/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613encapsulation><span>Encapsulation</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613inheritance-li><a href=/blog/2024/06/13/inheritance/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613inheritance><span>Inheritance</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613polymorphism-li><a href=/blog/2024/06/13/polymorphism/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613polymorphism><span>Polymorphism</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613abstraction-li><a href=/blog/2024/06/13/abstraction/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613abstraction><span>Abstraction</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613stack-vs-heap-li><a href=/blog/2024/06/13/stack-vs-heap/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613stack-vs-heap><span>Stack vs Heap</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613garbage-collection-li><a href=/blog/2024/06/13/garbage-collection/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613garbage-collection><span>Garbage Collection</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613final-vs-finally-vs-finalize-li><a href=/blog/2024/06/13/final-vs-finally-vs-finalize/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613final-vs-finally-vs-finalize><span>final vs finally vs finalize</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613collection-li><a href=/blog/2024/06/13/collection/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613collection><span>Collection</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613string-vs-stringbuilder-vs-stringbuffer-li><a href=/blog/2024/06/13/string-vs-stringbuilder-vs-stringbuffer/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613string-vs-stringbuilder-vs-stringbuffer><span>String vs StringBuilder vs StringBuffer</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613vs-equals-vs-hashcode-li><a href=/blog/2024/06/13/vs-equals-vs-hashcode/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613vs-equals-vs-hashcode><span>== vs equals vs hashCode</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613checked-exceptions-vs-unchecked-exceptions-li><a href=/blog/2024/06/13/checked-exceptions-vs-unchecked-exceptions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613checked-exceptions-vs-unchecked-exceptions><span>Checked Exceptions vs Unchecked Exceptions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613generic-li><a href=/blog/2024/06/13/generic/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613generic><span>Generic</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613stream-li><a href=/blog/2024/06/13/stream/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613stream><span>Stream</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613functional-interface-li><a href=/blog/2024/06/13/functional-interface/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613functional-interface><span>Functional Interface</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613multithreading-li><a href=/blog/2024/06/13/multithreading/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613multithreading><span>Multithreading</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613io-li><a href=/blog/2024/06/13/i/o/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613io><span>I/O</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613solid-principle-li><a href=/blog/2024/06/13/solid-principle/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613solid-principle><span>SOLID Principle</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613design-pattern-li><a href=/blog/2024/06/13/design-pattern/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613design-pattern><span>Design Pattern</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-blogsqlserver-li><a href=/blog/sqlserver/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-blogsqlserver><span>SQL Server</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613cap-theorem-li><a href=/blog/2024/06/13/cap-theorem/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613cap-theorem><span>CAP Theorem</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613sql-database-vs-nosql-database-li><a href=/blog/2024/06/13/sql-database-vs-nosql-database/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613sql-database-vs-nosql-database><span>SQL Database vs NoSQL Database</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613transaction-li><a href=/blog/2024/06/13/transaction/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613transaction><span>Transaction</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613entity-relationship-li><a href=/blog/2024/06/13/entity-relationship/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613entity-relationship><span>Entity Relationship</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613entity-relationship-diagram-li><a href=/blog/2024/06/13/entity-relationship-diagram/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613entity-relationship-diagram><span>Entity Relationship Diagram</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613normalization-li><a href=/blog/2024/06/13/normalization/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613normalization><span>Normalization</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613constraint-li><a href=/blog/2024/06/13/constraint/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613constraint><span>Constraint</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613where-vs-having-li><a href=/blog/2024/06/13/where-vs-having/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613where-vs-having><span>WHERE vs HAVING</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613drop-vs-truncate-vs-delete-li><a href=/blog/2024/06/13/drop-vs-truncate-vs-delete/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613drop-vs-truncate-vs-delete><span>DROP vs TRUNCATE vs DELETE</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613join-vs-subquery-li><a href=/blog/2024/06/13/join-vs-subquery/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613join-vs-subquery><span>Join vs Subquery</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613stored-procedure-vs-function-li><a href=/blog/2024/06/13/stored-procedure-vs-function/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613stored-procedure-vs-function><span>Stored Procedure vs Function</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613isolation-level-li><a href=/blog/2024/06/13/isolation-level/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613isolation-level><span>Isolation Level</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613create-database-and-tables-and-insert-data-li><a href=/blog/2024/06/13/create-database-and-tables-and-insert-data/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613create-database-and-tables-and-insert-data><span>Create Database And Tables And Insert Data</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613update-data-in-table-li><a href=/blog/2024/06/13/update-data-in-table/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613update-data-in-table><span>Update Data In Table</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613delete-data-in-table-li><a href=/blog/2024/06/13/delete-data-in-table/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613delete-data-in-table><span>Delete Data In Table</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613select-execution-order-li><a href=/blog/2024/06/13/select-execution-order/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613select-execution-order><span>SELECT Execution Order</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613query-without-duplicate-rows-li><a href=/blog/2024/06/13/query-without-duplicate-rows/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613query-without-duplicate-rows><span>Query Without Duplicate Rows</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613filtering-rows-based-on-conditions-li><a href=/blog/2024/06/13/filtering-rows-based-on-conditions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613filtering-rows-based-on-conditions><span>Filtering Rows Based On Conditions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613sorting-results-li><a href=/blog/2024/06/13/sorting-results/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613sorting-results><span>Sorting Results</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613aggregate-function-li><a href=/blog/2024/06/13/aggregate-function/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613aggregate-function><span>Aggregate Function</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613grouping-rows-with-same-values-in-specified-columns-li><a href=/blog/2024/06/13/grouping-rows-with-same-values-in-specified-columns/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613grouping-rows-with-same-values-in-specified-columns><span>Grouping Rows With Same Values In Specified Columns</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613filtering-group-results-li><a href=/blog/2024/06/13/filtering-group-results/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613filtering-group-results><span>Filtering Group Results</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613combining-rows-from-two-or-more-tables-based-on-related-columns-li><a href=/blog/2024/06/13/combining-rows-from-two-or-more-tables-based-on-related-columns/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613combining-rows-from-two-or-more-tables-based-on-related-columns><span>Combining Rows From Two Or More Tables Based On Related Columns</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613combine-or-exclude-result-sets-li><a href=/blog/2024/06/13/combine-or-exclude-result-sets/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613combine-or-exclude-result-sets><span>Combine Or Exclude Result Sets</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613subquery-li><a href=/blog/2024/06/13/subquery/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613subquery><span>Subquery</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613common-table-expression-cte-li><a href=/blog/2024/06/13/common-table-expression-cte/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613common-table-expression-cte><span>Common Table Expression (CTE)</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613window-function-li><a href=/blog/2024/06/13/window-function/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613window-function><span>Window Function</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613pagination-li><a href=/blog/2024/06/13/pagination/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613pagination><span>Pagination</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613conditional-logic-li><a href=/blog/2024/06/13/conditional-logic/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613conditional-logic><span>Conditional Logic</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613join-algorithm-li><a href=/blog/2024/06/13/join-algorithm/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613join-algorithm><span>Join Algorithm</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-blog20240613index-li><a href=/blog/2024/06/13/index/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-blog20240613index><span>Index</span></a></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#intro>intro</a></li><li><a href=#graph-dfs-pattern>graph dfs pattern</a></li><li><a href=#graph-bfs-pattern>graph bfs pattern</a></li><li><a href=#graph-union-find-pattern>graph union find pattern</a></li><li><a href=#graph-kahn-pattern>graph kahn pattern</a></li><li><a href=#graph-dijkstra-pattern>graph dijkstra pattern</a></li><li><a href=#graph-bellman-ford-pattern>graph bellman ford pattern</a></li><li><a href=#graph-floyd-warshall-pattern>graph floyd warshall pattern</a></li><li><a href=#graph-kruskal-pattern>graph kruskal pattern</a></li><li><a href=#graph-tarjan-pattern>graph tarjan pattern</a></li><li><a href=#graph-hierholzer-pattern>graph hierholzer pattern</a></li><li><a href=#graph-matrix-pattern>graph matrix pattern</a></li></ul></nav></div><div class="taxonomy taxonomy-terms-cloud taxo-tags"><h5 class=taxonomy-title>Tag Cloud</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/array/ data-taxonomy-term=array><span class=taxonomy-label>Array</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/backtracking/ data-taxonomy-term=backtracking><span class=taxonomy-label>Backtracking</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/basic/ data-taxonomy-term=basic><span class=taxonomy-label>Basic</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/bellmanford/ data-taxonomy-term=bellmanford><span class=taxonomy-label>BellmanFord</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/bfs/ data-taxonomy-term=bfs><span class=taxonomy-label>BFS</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/binarysearch/ data-taxonomy-term=binarysearch><span class=taxonomy-label>BinarySearch</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/bitmanipulation/ data-taxonomy-term=bitmanipulation><span class=taxonomy-label>BitManipulation</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/complexity/ data-taxonomy-term=complexity><span class=taxonomy-label>Complexity</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/cyclicsort/ data-taxonomy-term=cyclicsort><span class=taxonomy-label>CyclicSort</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/dfs/ data-taxonomy-term=dfs><span class=taxonomy-label>DFS</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/dijkstra/ data-taxonomy-term=dijkstra><span class=taxonomy-label>Dijkstra</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/divideandconquer/ data-taxonomy-term=divideandconquer><span class=taxonomy-label>DivideAndConquer</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/dynamicprogramming/ data-taxonomy-term=dynamicprogramming><span class=taxonomy-label>DynamicProgramming</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/floydwarshall/ data-taxonomy-term=floydwarshall><span class=taxonomy-label>FloydWarshall</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/graph/ data-taxonomy-term=graph><span class=taxonomy-label>Graph</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/greedy/ data-taxonomy-term=greedy><span class=taxonomy-label>Greedy</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/hashmap/ data-taxonomy-term=hashmap><span class=taxonomy-label>Hashmap</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/heap/ data-taxonomy-term=heap><span class=taxonomy-label>Heap</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/hierholzer/ data-taxonomy-term=hierholzer><span class=taxonomy-label>Hierholzer</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/java/ data-taxonomy-term=java><span class=taxonomy-label>Java</span><span class=taxonomy-count>23</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/kahn/ data-taxonomy-term=kahn><span class=taxonomy-label>Kahn</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/knapsack/ data-taxonomy-term=knapsack><span class=taxonomy-label>Knapsack</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/kruskal/ data-taxonomy-term=kruskal><span class=taxonomy-label>Kruskal</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/leetcode/ data-taxonomy-term=leetcode><span class=taxonomy-label>LeetCode</span><span class=taxonomy-count>17</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/linesweep/ data-taxonomy-term=linesweep><span class=taxonomy-label>LineSweep</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/linkedlist/ data-taxonomy-term=linkedlist><span class=taxonomy-label>LinkedList</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/math/ data-taxonomy-term=math><span class=taxonomy-label>Math</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/matrix/ data-taxonomy-term=matrix><span class=taxonomy-label>Matrix</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/monotonicqueue/ data-taxonomy-term=monotonicqueue><span class=taxonomy-label>MonotonicQueue</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/monotonicstack/ data-taxonomy-term=monotonicstack><span class=taxonomy-label>MonotonicStack</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/prefixsum/ data-taxonomy-term=prefixsum><span class=taxonomy-label>PrefixSum</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/python/ data-taxonomy-term=python><span class=taxonomy-label>Python</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/queue/ data-taxonomy-term=queue><span class=taxonomy-label>Queue</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/segmenttree/ data-taxonomy-term=segmenttree><span class=taxonomy-label>SegmentTree</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/skiplist/ data-taxonomy-term=skiplist><span class=taxonomy-label>Skiplist</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/slidingwindow/ data-taxonomy-term=slidingwindow><span class=taxonomy-label>SlidingWindow</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/sort/ data-taxonomy-term=sort><span class=taxonomy-label>Sort</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/spring/ data-taxonomy-term=spring><span class=taxonomy-label>Spring</span><span class=taxonomy-count>21</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/sql/ data-taxonomy-term=sql><span class=taxonomy-label>SQL</span><span class=taxonomy-count>31</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/stack/ data-taxonomy-term=stack><span class=taxonomy-label>Stack</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/string/ data-taxonomy-term=string><span class=taxonomy-label>String</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/tarjan/ data-taxonomy-term=tarjan><span class=taxonomy-label>Tarjan</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/tree/ data-taxonomy-term=tree><span class=taxonomy-label>Tree</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/trie/ data-taxonomy-term=trie><span class=taxonomy-label>Trie</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/twopointers/ data-taxonomy-term=twopointers><span class=taxonomy-label>TwoPointers</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/unionfind/ data-taxonomy-term=unionfind><span class=taxonomy-label>UnionFind</span><span class=taxonomy-count>1</span></a></li></ul></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5 pe-md-4" role=main><div class=td-content><h1>Graph</h1><div class="td-byline mb-4">By <b>Tiationg Kho</b> |
<time datetime=2024-06-13 class=text-body-secondary>Thursday, June 13, 2024</time></div><header class=article-meta><div class="taxonomy taxonomy-terms-article taxo-tags"><h5 class=taxonomy-title>Tags:</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/leetcode/ data-taxonomy-term=leetcode><span class=taxonomy-label>LeetCode</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/graph/ data-taxonomy-term=graph><span class=taxonomy-label>Graph</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/dfs/ data-taxonomy-term=dfs><span class=taxonomy-label>DFS</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/bfs/ data-taxonomy-term=bfs><span class=taxonomy-label>BFS</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/unionfind/ data-taxonomy-term=unionfind><span class=taxonomy-label>UnionFind</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/kahn/ data-taxonomy-term=kahn><span class=taxonomy-label>Kahn</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/dijkstra/ data-taxonomy-term=dijkstra><span class=taxonomy-label>Dijkstra</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/bellmanford/ data-taxonomy-term=bellmanford><span class=taxonomy-label>BellmanFord</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/floydwarshall/ data-taxonomy-term=floydwarshall><span class=taxonomy-label>FloydWarshall</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/kruskal/ data-taxonomy-term=kruskal><span class=taxonomy-label>Kruskal</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/tarjan/ data-taxonomy-term=tarjan><span class=taxonomy-label>Tarjan</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/hierholzer/ data-taxonomy-term=hierholzer><span class=taxonomy-label>Hierholzer</span></a></li><li><a class=taxonomy-term href=https://tiationg-kho.github.io/tags/matrix/ data-taxonomy-term=matrix><span class=taxonomy-label>Matrix</span></a></li></ul></div></header><blockquote><p>Starred by 25+ users, GitHub Repo: <a href=https://github.com/tiationg-kho/leetcode-pattern-500 target=_blank>LeetCode Pattern 500</a> offers:</p><ul><li>500 solutions for LeetCode problems in Python and Java</li><li>17 notes on essential concepts related to data structures and algorithms</li><li>130 patterns for solving LeetCode problems</li></ul></blockquote><h1 id=graph>graph<a class=td-heading-self-link href=#graph aria-label="Heading self-link"></a></h1><h2 id=intro>intro<a class=td-heading-self-link href=#intro aria-label="Heading self-link"></a></h2><ul><li>A graph is most commonly stored as a hashmap/list of adjacency lists/sets: for each vertex, store a list/set of its neighbors<ul><li>how to build graph is important</li><li>often use<ul><li>elements inside set can be tuples</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#000>graph</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>defaultdict</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87>set</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div></li><li>notice: tree is a special graph with properties that<ul><li>connected</li><li>acyclic</li><li>non-direction edges</li><li>one path between any two vertices/nodes</li></ul></li></ul></li></ul><h2 id=graph-dfs-pattern>graph dfs pattern<a class=td-heading-self-link href=#graph-dfs-pattern aria-label="Heading self-link"></a></h2><ul><li>DFS<ul><li>time <code>O(|V| + |E|)</code></li><li>space <code>O(|V|)</code> for visited hashset, and recursion stack (not counting building graph)</li><li>DFS is better at<ul><li>searching for long paths</li><li>memorizing res for long paths</li><li>detecting cycles</li></ul></li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#8f5902;font-style:italic># dfs</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>graph</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>defaultdict</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87>set</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>p</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>q</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#000>edges</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>    <span style=color:#000>graph</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>p</span><span style=color:#000;font-weight:700>]</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>add</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>q</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>visited</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87>set</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>dfs</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>    <span style=color:#000>visited</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>add</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;V:&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>node</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>neighbor</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#000>graph</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>]:</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>neighbor</span> <span style=color:#204a87;font-weight:700>not</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#000>visited</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>            <span style=color:#000>dfs</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>neighbor</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>dfs</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>start</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div></li></ul><h2 id=graph-bfs-pattern>graph bfs pattern<a class=td-heading-self-link href=#graph-bfs-pattern aria-label="Heading self-link"></a></h2><ul><li>BFS<ul><li>time <code>O(|V| + |E|)</code></li><li>space <code>O(|V|)</code> for visited hashset, and queue (not counting building graph)</li><li>tips<ul><li>shortest distance of a to b is equal to the distance of b to a</li><li>we can use hashmap or nested list or variable to help us to record some res</li><li>queue<ul><li>start with single source or multi sources</li><li>can put tuple as element to include more info</li><li>can implement bfs queue by hashset sometimes<ul><li>eg. when perform bfs on string (modifying char) might generate duplicate new string</li></ul></li><li>can implement bfs queue by heap sometimes</li></ul></li><li>visited<ul><li>use hashset</li></ul></li><li>sometimes can use topological sort’s idea</li></ul></li><li>BFS is better at<ul><li>finding the shortest distance between two vertices</li><li>searching in graph of unknown size</li><li>creating a topological sort of a DAG (kahn algorithm)</li></ul></li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#8f5902;font-style:italic># bfs</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>graph</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>defaultdict</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87>set</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>p</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>q</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#000>edges</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>    <span style=color:#000>graph</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>p</span><span style=color:#000;font-weight:700>]</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>add</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>q</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000>visited</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87>set</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#000>queue</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>deque</span><span style=color:#000;font-weight:700>([</span><span style=color:#000>start</span><span style=color:#000;font-weight:700>])</span>
</span></span><span style=display:flex><span><span style=color:#000>visited</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>add</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>start</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>while</span> <span style=color:#000>queue</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>    <span style=color:#000>node</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>queue</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>popleft</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;V:&#39;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>node</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>neighbor</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#000>graph</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>]:</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>neighbor</span> <span style=color:#204a87;font-weight:700>not</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#000>visited</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>            <span style=color:#000>queue</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>append</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>neighbor</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>            <span style=color:#000>visited</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>add</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>neighbor</span><span style=color:#000;font-weight:700>)</span>
</span></span></code></pre></div><ul><li>patterns<ul><li>bfs with single source</li><li>bfs with multiple sources</li><li>bfs with hashset as queue</li></ul></li></ul></li></ul><h2 id=graph-union-find-pattern>graph union find pattern<a class=td-heading-self-link href=#graph-union-find-pattern aria-label="Heading self-link"></a></h2><ul><li>Union Find<ul><li>can use when problems involve <strong>Union</strong>, <strong>Find</strong>, or <strong>Transitive Relation</strong></li><li>operations<ul><li>init</li><li>find</li><li>union</li><li>is_connected</li><li>get_count</li><li>get_component_weight</li><li>special ops<ul><li>give each component weight to represent the relation between itself to it’s parent</li></ul></li></ul></li></ul></li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>UnionFind</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>__init__</span><span style=color:#000;font-weight:700>(</span><span style=color:#3465a4>self</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>n</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>        <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>parent</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[</span><span style=color:#000>i</span> <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>i</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#204a87>range</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>n</span><span style=color:#000;font-weight:700>)]</span>
</span></span><span style=display:flex><span>        <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>rank</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span> <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>_</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#204a87>range</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>n</span><span style=color:#000;font-weight:700>)]</span>
</span></span><span style=display:flex><span>        <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>weight</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>1</span> <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>_</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#204a87>range</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>n</span><span style=color:#000;font-weight:700>)]</span>
</span></span><span style=display:flex><span>        <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>count</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>n</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic># path compression</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>find</span><span style=color:#000;font-weight:700>(</span><span style=color:#3465a4>self</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>p</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>while</span> <span style=color:#000>p</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>parent</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>p</span><span style=color:#000;font-weight:700>]:</span>
</span></span><span style=display:flex><span>            <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>parent</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>p</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>parent</span><span style=color:#000;font-weight:700>[</span><span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>parent</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>p</span><span style=color:#000;font-weight:700>]]</span>
</span></span><span style=display:flex><span>            <span style=color:#000>p</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>parent</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>p</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>p</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#39;&#39;&#39;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    def find(self, p):
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        if p != self.parent[p]:
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>            self.parent[p] = self.find(self.parent[p])
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        return self.parent[p]
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    &#39;&#39;&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#8f5902;font-style:italic># union by rank</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>union</span><span style=color:#000;font-weight:700>(</span><span style=color:#3465a4>self</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>p</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>q</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>        <span style=color:#000>root_p</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>find</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>p</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#000>root_q</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>find</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>q</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>root_p</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#000>root_q</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>rank</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>root_p</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>rank</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>root_q</span><span style=color:#000;font-weight:700>]:</span>
</span></span><span style=display:flex><span>            <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>parent</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>root_q</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>root_p</span>
</span></span><span style=display:flex><span>            <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>weight</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>root_p</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>+=</span> <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>weight</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>root_q</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>            <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>weight</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>root_q</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>elif</span> <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>rank</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>root_p</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>&lt;</span> <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>rank</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>root_q</span><span style=color:#000;font-weight:700>]:</span>
</span></span><span style=display:flex><span>            <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>parent</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>root_p</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>root_q</span>
</span></span><span style=display:flex><span>            <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>weight</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>root_q</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>+=</span> <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>weight</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>root_p</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>            <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>weight</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>root_p</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>else</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>            <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>parent</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>root_p</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>root_q</span>
</span></span><span style=display:flex><span>            <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>rank</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>root_q</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>+=</span> <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>            <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>weight</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>root_q</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>+=</span> <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>weight</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>root_p</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>            <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>weight</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>root_p</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span>
</span></span><span style=display:flex><span>        <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>count</span> <span style=color:#ce5c00;font-weight:700>-=</span> <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>is_connected</span><span style=color:#000;font-weight:700>(</span><span style=color:#3465a4>self</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>p</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>q</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>find</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>p</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>find</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>q</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>get_count</span><span style=color:#000;font-weight:700>(</span><span style=color:#3465a4>self</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>count</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>get_component_weight</span><span style=color:#000;font-weight:700>(</span><span style=color:#3465a4>self</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>p</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>weight</span><span style=color:#000;font-weight:700>[</span><span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>find</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>p</span><span style=color:#000;font-weight:700>)]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># time near O(1) for find/union if path compression and union by rank</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># space O(V), due to building uf</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># using graph and union find</span>
</span></span><span style=display:flex><span><span style=color:#4e9a06>&#39;&#39;&#39;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>the logic of path compression is keep checking the cur node equal to its parent or not
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>if yes, found the right parent, else change its parent to orginal parent&#39;s parent
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>and let this new parent become the cur node
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>then keep checking
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>(every round, will let cur node become at same layer with its original parent)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>&#39;&#39;&#39;</span>
</span></span></code></pre></div><h2 id=graph-kahn-pattern>graph kahn pattern<a class=td-heading-self-link href=#graph-kahn-pattern aria-label="Heading self-link"></a></h2><ul><li><strong><strong>Kahn</strong></strong><ul><li>Topological sort</li><li>A <strong>Directed Acyclic Graph</strong> is a linear ordering of its vertices such that for every directed edge <em>pq</em> from vertex <em>p</em> to vertex <em>q</em>, <em>p</em> comes before <em>q</em> in the ordering</li><li><strong><strong>Kahn&rsquo;s Algorithm (like bfs)</strong></strong><ol><li>building graph if need</li><li>count every node’s in-degree</li><li>put node whose in-degree is 0 inside queue</li><li>pop out node and add to res list, and minus its neighbor node’s in-degree by 1</li><li>if neighbor node’s in-degree is 0 put inside queue</li><li>check length of res list equal to number of nodes or not (which is detecting acyclic or not)</li><li>res list is a DAG when valid</li></ol></li><li>when to use<ul><li>determining the order in which elements should be placed to adhere to dependency constraints</li></ul></li></ul></li><li>time <code>O(|V| + |E|)</code></li><li>space <code>O(|V| + |E|)</code>, if building graph</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>collections</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>deque</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>getDAG</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>n</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>edges</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>    <span style=color:#000>graph</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[[]</span> <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>_</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#204a87>range</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>n</span><span style=color:#000;font-weight:700>)]</span>
</span></span><span style=display:flex><span>    <span style=color:#000>indegrees</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span> <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>_</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#204a87>range</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>n</span><span style=color:#000;font-weight:700>)]</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>p</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>q</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#000>edges</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#000>graph</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>p</span><span style=color:#000;font-weight:700>]</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>append</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>q</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#000>indegrees</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>q</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>+=</span> <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000>queue</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>deque</span><span style=color:#000;font-weight:700>([])</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>i</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>indegree</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#204a87>enumerate</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>indegrees</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>indegree</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>            <span style=color:#000>queue</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>append</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>i</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#000>res</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[]</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>while</span> <span style=color:#000>queue</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#000>node</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>queue</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>popleft</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>        <span style=color:#000>res</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>append</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>neighbor</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#000>graph</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>]:</span>
</span></span><span style=display:flex><span>            <span style=color:#000>indegrees</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>neighbor</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>-=</span> <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>indegrees</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>neighbor</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>                <span style=color:#000>queue</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>append</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>neighbor</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>                
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>res</span> <span style=color:#204a87;font-weight:700>if</span> <span style=color:#204a87>len</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>res</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#000>n</span> <span style=color:#204a87;font-weight:700>else</span> <span style=color:#000;font-weight:700>[]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># time O(V+E)</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># space O(V+E), due to building graph</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># using graph and kahn and topological sort</span>
</span></span></code></pre></div><h2 id=graph-dijkstra-pattern>graph dijkstra pattern<a class=td-heading-self-link href=#graph-dijkstra-pattern aria-label="Heading self-link"></a></h2><ul><li><strong>Dijkstra</strong></li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#8f5902;font-style:italic># dijkstra</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># single source shortest path algorithm (only handle positive weight edge)</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># can get shortest path from one node to all other nodes</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># based on bfs and greedy</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>heapq</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#ce5c00;font-weight:700>*</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>collections</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>defaultdict</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>dijkstra</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>edges</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>V</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>src</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>    <span style=color:#000>graph</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>defaultdict</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87>list</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>u</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>v</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>w</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#000>edges</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#000>graph</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>u</span><span style=color:#000;font-weight:700>]</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>append</span><span style=color:#000;font-weight:700>((</span><span style=color:#000>v</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>w</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000>node_dist</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>defaultdict</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87>int</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>i</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#204a87>range</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>V</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>        <span style=color:#000>node_dist</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>i</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87>float</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;inf&#39;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000>node_dist</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>src</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000>heap</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>src</span><span style=color:#000;font-weight:700>)]</span>
</span></span><span style=display:flex><span>    <span style=color:#000>heapify</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>heap</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000>visited</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87>set</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>while</span> <span style=color:#000>heap</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#000>prev</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>node</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>heappop</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>heap</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>node</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#000>visited</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>continue</span>
</span></span><span style=display:flex><span>        <span style=color:#000>visited</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>add</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>next_node</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>weight</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#000>graph</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>]:</span>
</span></span><span style=display:flex><span>            <span style=color:#000>d</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>prev</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>weight</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>d</span> <span style=color:#ce5c00;font-weight:700>&lt;</span> <span style=color:#000>node_dist</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>next_node</span><span style=color:#000;font-weight:700>]:</span>
</span></span><span style=display:flex><span>                <span style=color:#000>heappush</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>heap</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>d</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>next_node</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>                <span style=color:#000>node_dist</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>next_node</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>d</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>node_dist</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># time O(V + E + ElogE), ElogE -&gt; Elog(V**2) -&gt; ElogV</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># space O(V+E)</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># using graph and dijkstra</span>
</span></span><span style=display:flex><span><span style=color:#4e9a06>&#39;&#39;&#39;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>1. init graph
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>2. init node_dist dict/array (and set val for start node)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>3. init heap with start node
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>4. init visited set
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>5. keep heappop the most promising edge/node
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>6. if already visited just skip, else set as visited
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>7. relax each edge with this node
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>&#39;&#39;&#39;</span>
</span></span></code></pre></div><h2 id=graph-bellman-ford-pattern>graph bellman ford pattern<a class=td-heading-self-link href=#graph-bellman-ford-pattern aria-label="Heading self-link"></a></h2><ul><li><strong>Bellman-Ford</strong></li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#8f5902;font-style:italic># bellman ford</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># single source shortest path algorithm (can handle negative weight edge)</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># can get shortest path from one node to all other nodes</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># can use it to solve shortest path problem with limited moves (O(VE) will become O(kE))</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># can detect negative cycle</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># based on dp</span>
</span></span><span style=display:flex><span><span style=color:#4e9a06>&#39;&#39;&#39;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>if there is no negative cycle, 
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>P node to Q node&#39;s shortest path is at most V nodes and V - 1 edges, 
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>otherwise means this path pass same node twice (there is a negative cycle)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>&#39;&#39;&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>bellman_ford</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>src</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>dst</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>edges</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>V</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>    <span style=color:#000>node_dist</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[</span><span style=color:#204a87>float</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;inf&#34;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>_</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#204a87>range</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>V</span><span style=color:#000;font-weight:700>)]</span>
</span></span><span style=display:flex><span>    <span style=color:#000>node_dist</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>src</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>_</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#204a87>range</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>V</span> <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>u</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>v</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>w</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#000>edges</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>node_dist</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>u</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87>float</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;inf&#34;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>and</span> <span style=color:#000>node_dist</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>u</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>w</span> <span style=color:#ce5c00;font-weight:700>&lt;</span> <span style=color:#000>node_dist</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>v</span><span style=color:#000;font-weight:700>]:</span>
</span></span><span style=display:flex><span>                <span style=color:#000>node_dist</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>v</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>node_dist</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>u</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>w</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>u</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>v</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>w</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#000>edges</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>node_dist</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>u</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87>float</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;inf&#34;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>and</span> <span style=color:#000>node_dist</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>u</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>w</span> <span style=color:#ce5c00;font-weight:700>&lt;</span> <span style=color:#000>node_dist</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>v</span><span style=color:#000;font-weight:700>]:</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;contains negative cycle&#34;</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>node_dist</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>dst</span><span style=color:#000;font-weight:700>]</span> <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>node_dist</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>dst</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87>float</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;inf&#39;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>else</span> <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># time O(VE)</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># space O(V)</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># using graph and bellman ford</span>
</span></span><span style=display:flex><span><span style=color:#4e9a06>&#39;&#39;&#39;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>1. build graph
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>2. init node_dist dict/array (and set val for start node)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>3. relax/update all edges in every iteration
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>   - will have V - 1 times iteration, 
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>   if we want only have k iter then we need temp_node_dist for each iter,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>   to guarantee the result come from last iteration and record cur iteration only
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>   - the logic of relax is that if you can go to u node, 
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>   and have a better distance to v node by using u-v edge, 
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>   then upddate distance for v node
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>4. if still have any edge can relax, then there must be a negative cycle
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>&#39;&#39;&#39;</span>
</span></span></code></pre></div><h2 id=graph-floyd-warshall-pattern>graph floyd warshall pattern<a class=td-heading-self-link href=#graph-floyd-warshall-pattern aria-label="Heading self-link"></a></h2><ul><li><strong>Floyd-Warshall</strong></li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#8f5902;font-style:italic># floyd warshall</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># shortest path algorithm (can handle negative weight edge)</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># can get all shortest path between all pairs of nodes</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># can detect negative cycle</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># based on dp</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># idea: go through all possible intermediate node</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>floyd_warshall</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>edges</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>V</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>  <span style=color:#000>dist</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[[</span><span style=color:#204a87>float</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;inf&#39;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>_</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#204a87>range</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>V</span><span style=color:#000;font-weight:700>)]</span> <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>_</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#204a87>range</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>V</span><span style=color:#000;font-weight:700>)]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>start</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>end</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>weight</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#000>edges</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>    <span style=color:#000>dist</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>start</span><span style=color:#000;font-weight:700>][</span><span style=color:#000>end</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>weight</span>
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>i</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#204a87>range</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>V</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>      <span style=color:#000>dist</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>i</span><span style=color:#000;font-weight:700>][</span><span style=color:#000>i</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span>
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>mid</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#204a87>range</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>V</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>start</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#204a87>range</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>V</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>          <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>end</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#204a87>range</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>V</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>              <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>dist</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>start</span><span style=color:#000;font-weight:700>][</span><span style=color:#000>mid</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>dist</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>mid</span><span style=color:#000;font-weight:700>][</span><span style=color:#000>end</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>&lt;</span> <span style=color:#000>dist</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>start</span><span style=color:#000;font-weight:700>][</span><span style=color:#000>end</span><span style=color:#000;font-weight:700>]:</span>
</span></span><span style=display:flex><span>                  <span style=color:#000>dist</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>start</span><span style=color:#000;font-weight:700>][</span><span style=color:#000>end</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>dist</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>start</span><span style=color:#000;font-weight:700>][</span><span style=color:#000>mid</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>dist</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>mid</span><span style=color:#000;font-weight:700>][</span><span style=color:#000>end</span><span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>dist</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># time O(V**3)</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># space O(V**2)</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># using graph and floyd warshall</span>
</span></span><span style=display:flex><span><span style=color:#4e9a06>&#39;&#39;&#39;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>1. init distance dp table (set val for each edge and each node itself)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>2. thrice for loop (mid point, start node, end node) and relax
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>   - the logic is we want to fill in a mid node to any two nodes
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>   - try to know this mid node can benefit for shortest path bewteen that two nodes or not
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>3. detect negative cycle: re-run step 2, if still get better res then exists a negative cycle
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>&#39;&#39;&#39;</span>
</span></span></code></pre></div><h2 id=graph-kruskal-pattern>graph kruskal pattern<a class=td-heading-self-link href=#graph-kruskal-pattern aria-label="Heading self-link"></a></h2><ul><li><strong>Kruskal</strong></li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#8f5902;font-style:italic># kruskal</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># can find minimum spanning tree</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># based on union find and greedy</span>
</span></span><span style=display:flex><span><span style=color:#4e9a06>&#39;&#39;&#39;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>A minimum spanning tree (MST) is a subset of the edges of a connected, 
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>edge-weighted undirected graph that connects all the vertices together, 
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>without any cycles and with the minimum possible total edge weight
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>Kruskal&#39;s algorithm generates the Minimum Spanning Tree 
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>by always choosing the smallest weigthed edge in the graph 
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>and consistently growing the tree by one edge
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>&#39;&#39;&#39;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>kruskal</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>n</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>edges</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>    <span style=color:#000>edges</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>sort</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>key</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>lambda</span> <span style=color:#000>x</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>x</span><span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>])</span>
</span></span><span style=display:flex><span>    <span style=color:#000>uf</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>UnionFind</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>n</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000>mst</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[]</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>u</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>v</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>w</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#000>edges</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#204a87;font-weight:700>not</span> <span style=color:#000>uf</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>is_connected</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>u</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>v</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>            <span style=color:#000>uf</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>union</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>u</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>v</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>            <span style=color:#000>mst</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>append</span><span style=color:#000;font-weight:700>((</span><span style=color:#000>u</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>v</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>w</span><span style=color:#000;font-weight:700>))</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>mst</span> <span style=color:#204a87;font-weight:700>if</span> <span style=color:#204a87>len</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>mst</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#000>n</span> <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#0000cf;font-weight:700>1</span> <span style=color:#204a87;font-weight:700>else</span> <span style=color:#000;font-weight:700>[]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># time O(ElogE)</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># space O(E + V)</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># using graph and kruskal and union find</span>
</span></span><span style=display:flex><span><span style=color:#4e9a06>&#39;&#39;&#39;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>1. sort edges
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>2. init union find for all nodes
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>3. keep adding lowest-weighted edge to mst that connects two components withnot forming cycle by union
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>4. check mst&#39;s size (if size is n - 1 then the mst is valid)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>&#39;&#39;&#39;</span>
</span></span></code></pre></div><h2 id=graph-tarjan-pattern>graph tarjan pattern<a class=td-heading-self-link href=#graph-tarjan-pattern aria-label="Heading self-link"></a></h2><ul><li><strong>Tarjan</strong><ul><li>can find SCC in directed graph<ul><li>strongly connected<ul><li>a directed graph is strongly connected if there is a path between all pairs of vertices</li></ul></li><li>strongly connected component (SCC)<ul><li>a SCC of a directed graph is the maximal strongly connected subgraph</li></ul></li><li>low link value<ul><li>low link value of a node is the smallest index of any node reachable from that node, including itself</li></ul></li></ul></li><li>can find critical edges in undirected graph<ul><li>critical edges [p, q]<ul><li>if low[q] > ids[p]</li></ul></li></ul></li><li>tarjan is based on dfs</li></ul></li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#8f5902;font-style:italic># tarjan</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>collections</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>defaultdict</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>Graph</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>__init__</span><span style=color:#000;font-weight:700>(</span><span style=color:#3465a4>self</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>vertices</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>        <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>V</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>vertices</span>
</span></span><span style=display:flex><span>        <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>graph</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>defaultdict</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87>list</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>time</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span>
</span></span><span style=display:flex><span>        <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>scc</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>addEdges</span><span style=color:#000;font-weight:700>(</span><span style=color:#3465a4>self</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>edges</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>p</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>q</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#000>edges</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>            <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>graph</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>p</span><span style=color:#000;font-weight:700>]</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>append</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>q</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>tarjan</span><span style=color:#000;font-weight:700>(</span><span style=color:#3465a4>self</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>        <span style=color:#000>ids</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[</span><span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#0000cf;font-weight:700>1</span> <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>_</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#204a87>range</span><span style=color:#000;font-weight:700>(</span><span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>V</span><span style=color:#000;font-weight:700>)]</span>
</span></span><span style=display:flex><span>        <span style=color:#000>low</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[</span><span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#0000cf;font-weight:700>1</span> <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>_</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#204a87>range</span><span style=color:#000;font-weight:700>(</span><span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>V</span><span style=color:#000;font-weight:700>)]</span>
</span></span><span style=display:flex><span>        <span style=color:#000>on_stack</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>False</span> <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>_</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#204a87>range</span><span style=color:#000;font-weight:700>(</span><span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>V</span><span style=color:#000;font-weight:700>)]</span>
</span></span><span style=display:flex><span>        <span style=color:#000>stack</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>i</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#204a87>range</span><span style=color:#000;font-weight:700>(</span><span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>V</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>ids</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>i</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>                <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>dfs</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>i</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ids</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>low</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>on_stack</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>stack</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;low: &#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>low</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>low</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>dfs</span><span style=color:#000;font-weight:700>(</span><span style=color:#3465a4>self</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>node</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ids</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>low</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>on_stack</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>stack</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>        <span style=color:#000>ids</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>time</span>
</span></span><span style=display:flex><span>        <span style=color:#000>low</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>time</span>
</span></span><span style=display:flex><span>        <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>time</span> <span style=color:#ce5c00;font-weight:700>+=</span> <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>        <span style=color:#000>on_stack</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>True</span>
</span></span><span style=display:flex><span>        <span style=color:#000>stack</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>append</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>neighbor</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>graph</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>]:</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>ids</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>neighbor</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>                <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>dfs</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>neighbor</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ids</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>low</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>on_stack</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>stack</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>                <span style=color:#000>low</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87>min</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>low</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>],</span> <span style=color:#000>low</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>neighbor</span><span style=color:#000;font-weight:700>])</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>elif</span> <span style=color:#000>on_stack</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>neighbor</span><span style=color:#000;font-weight:700>]:</span>
</span></span><span style=display:flex><span>                <span style=color:#000>low</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87>min</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>low</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>],</span> <span style=color:#000>ids</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>neighbor</span><span style=color:#000;font-weight:700>])</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>low</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#000>ids</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>]:</span>
</span></span><span style=display:flex><span>            <span style=color:#000>component</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[]</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>while</span> <span style=color:#000>stack</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>                <span style=color:#000>stack_node</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>stack</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>pop</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>                <span style=color:#000>on_stack</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>stack_node</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>False</span>
</span></span><span style=display:flex><span>                <span style=color:#000>component</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>append</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>stack_node</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>stack_node</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#000>node</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>                    <span style=color:#3465a4>self</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>scc</span> <span style=color:#ce5c00;font-weight:700>+=</span> <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;SCC: &#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>component</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>break</span>
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span><span style=color:#000>g</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>Graph</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>8</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>edges</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>),(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>),(</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>),(</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>),(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>),(</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>),(</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>),(</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>),(</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>7</span><span style=color:#000;font-weight:700>),(</span><span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>7</span><span style=color:#000;font-weight:700>),(</span><span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>6</span><span style=color:#000;font-weight:700>),(</span><span style=color:#0000cf;font-weight:700>6</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>)]</span>
</span></span><span style=display:flex><span><span style=color:#000>g</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>addEdges</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>edges</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#000>g</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>tarjan</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span><span style=color:#4e9a06>&#39;&#39;&#39;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>SCC:  [0]
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>SCC:  [7]
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>SCC:  [6, 5]
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>SCC:  [4, 3, 2, 1]
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>low:  [0, 1, 1, 1, 1, 4, 4, 5]
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>0 ← 1 ⇆ 4 → 7
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    ↓ ↖     ↑
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    2 → 3 → 5
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>            ⇅
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>            6
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>&#39;&#39;&#39;</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># time O(V + E)</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># space O(V)</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># using graph and tarjan</span>
</span></span><span style=display:flex><span><span style=color:#4e9a06>&#39;&#39;&#39;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>1. start DFS from every node that hasn&#39;t been visited
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>2. if the neighbor hasn&#39;t been visited, call dfs to visit the neighbor. update the low link val for cur node (to the minimum of its cur low link val and the low link val of the neighbor)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>3. if the neighbor is in the stack, it&#39;s a back edge (means cycle exists). update the low link val for cur node (to the minimum of its cur low link val and the neighbor&#39;s id)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>4. after visiting all neighbors, if the cur node&#39;s id is equal to its low link val, it&#39;s the root of an SCC
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>&#39;&#39;&#39;</span>
</span></span></code></pre></div><h2 id=graph-hierholzer-pattern>graph hierholzer pattern<a class=td-heading-self-link href=#graph-hierholzer-pattern aria-label="Heading self-link"></a></h2><ul><li><strong>Hierholzer</strong><ul><li>can find an Eulerian path or circuit in a connected graph<ul><li>Eulerian path is a path that visits every edge of a graph exactly once</li><li>Eulerian circuit is an Eulerian path that starts and ends on the same node</li></ul></li><li>is based on dfs</li></ul></li></ul><table><thead><tr><th></th><th>Eulerian Circuit</th><th>Eulerian Path</th></tr></thead><tbody><tr><td>Undirected Graph</td><td><strong>even</strong> degree for every vertex</td><td><strong>even</strong> degree for every vertex. or <strong>odd</strong> degree for two vertices (will be start and end nodes) and rest is <strong>even</strong> degree</td></tr><tr><td>Directed Graph</td><td>equal indegree and outdegree for every vertex</td><td>equal indegree and outdegree for every vertex. or one vertex (out == in + 1) (start node) and one vertex(in == out + 1) (end node) and rest has equal (in == out)</td></tr></tbody></table><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#8f5902;font-style:italic># hierholzer</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>from</span> <span style=color:#000>collections</span> <span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>defaultdict</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>hierholzer</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>n</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>edges</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>    <span style=color:#000>E</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87>len</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>edges</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#000>graph</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>defaultdict</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87>list</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>u</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>v</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#000>edges</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#000>graph</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>u</span><span style=color:#000;font-weight:700>]</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>append</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>v</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000>indegrees</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span> <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>_</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#204a87>range</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>n</span><span style=color:#000;font-weight:700>)]</span>
</span></span><span style=display:flex><span>    <span style=color:#000>outdegrees</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[</span><span style=color:#0000cf;font-weight:700>0</span> <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>_</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#204a87>range</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>n</span><span style=color:#000;font-weight:700>)]</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>start</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#000>graph</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>end</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#000>graph</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>start</span><span style=color:#000;font-weight:700>]:</span>
</span></span><span style=display:flex><span>            <span style=color:#000>outdegrees</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>start</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>+=</span> <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>            <span style=color:#000>indegrees</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>end</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>+=</span> <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000>start_nodes</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span>
</span></span><span style=display:flex><span>    <span style=color:#000>end_nodes</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>i</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#204a87>range</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>n</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#204a87>abs</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>indegrees</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>i</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#000>outdegrees</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>i</span><span style=color:#000;font-weight:700>])</span> <span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000;font-weight:700>[]</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>elif</span> <span style=color:#000>indegrees</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>i</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#000>outdegrees</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>i</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>            <span style=color:#000>end_nodes</span> <span style=color:#ce5c00;font-weight:700>+=</span> <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>elif</span> <span style=color:#000>outdegrees</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>i</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#000>indegrees</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>i</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>            <span style=color:#000>start_nodes</span> <span style=color:#ce5c00;font-weight:700>+=</span> <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>start_nodes</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#0000cf;font-weight:700>0</span> <span style=color:#204a87;font-weight:700>and</span> <span style=color:#000>end_nodes</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>pass</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>elif</span> <span style=color:#000>start_nodes</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#0000cf;font-weight:700>1</span> <span style=color:#204a87;font-weight:700>and</span> <span style=color:#000>end_nodes</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>pass</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>else</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000;font-weight:700>[]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000>start</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000>i</span> <span style=color:#204a87;font-weight:700>in</span> <span style=color:#204a87>range</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>n</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>outdegrees</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>i</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>-</span> <span style=color:#000>indegrees</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>i</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>            <span style=color:#000>start</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>i</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>break</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>outdegrees</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>i</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>            <span style=color:#000>start</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>i</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000>stack</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[]</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>def</span> <span style=color:#000>dfs</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>):</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>while</span> <span style=color:#000>outdegrees</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>]:</span>
</span></span><span style=display:flex><span>            <span style=color:#000>neighbor</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>graph</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>]</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>pop</span><span style=color:#000;font-weight:700>()</span>
</span></span><span style=display:flex><span>            <span style=color:#000>outdegrees</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>-=</span> <span style=color:#0000cf;font-weight:700>1</span>
</span></span><span style=display:flex><span>            <span style=color:#000>dfs</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>neighbor</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#000>stack</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>append</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>node</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000>dfs</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>start</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#000>path</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[]</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>while</span> <span style=color:#000>stack</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#000>path</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>append</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>stack</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#000>pop</span><span style=color:#000;font-weight:700>())</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#204a87>len</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>path</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#000>E</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>:</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87>print</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>path</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>path</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000;font-weight:700>[]</span>
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span><span style=color:#000>edges</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[(</span><span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>),(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>),(</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>),(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>),(</span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>),(</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>),(</span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>),(</span><span style=color:#0000cf;font-weight:700>4</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>),(</span><span style=color:#0000cf;font-weight:700>5</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>2</span><span style=color:#000;font-weight:700>)]</span>
</span></span><span style=display:flex><span><span style=color:#000>hierholzer</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>6</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>edges</span><span style=color:#000;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#4e9a06>&#39;&#39;&#39;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>[5, 2, 4, 1, 2, 0, 1, 3, 4, 5]
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>
</span></span></span><span style=display:flex><span><span style=color:#4e9a06> ↙ 0 ↖
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>1  →  2
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>↓ ↖ ↙ ↑
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>3 →4→ 5
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>&#39;&#39;&#39;</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># time O(V + E)</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># space O(V + E)</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># using graph and hierholzer</span>
</span></span><span style=display:flex><span><span style=color:#4e9a06>&#39;&#39;&#39;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>1. build graph, and count all nodes&#39; in/out degree
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>2. check eulerian path exist or not
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>3. find start node, and perform modified dfs (which will delete edge when visiting)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    1. in dfs, if node has unvisited outgoing edge, call another dfs
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    2. once node is stuck (no unvisited outgoing edge), add node to stack
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>4. start node is the first node pop out from stack
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>&#39;&#39;&#39;</span>
</span></span></code></pre></div><h2 id=graph-matrix-pattern>graph matrix pattern<a class=td-heading-self-link href=#graph-matrix-pattern aria-label="Heading self-link"></a></h2><ul><li>Matrix<ul><li>tips<ul><li>hashset for recording visited or not</li><li>cur ptr moving direction</li><li>swap based on certain line across the matrix</li><li>additional sign variables for storing</li><li>use first row and first col to store sign</li></ul></li><li>elements<ul><li>row</li><li>col</li><li>diag<ul><li>row - col</li><li>row == col (main diag)</li></ul></li><li>anti_diag<ul><li>row + col</li><li>row + col == row - 1 == col - 1 (main anti_diag)</li></ul></li></ul></li></ul></li></ul><ul class="list-unstyled d-flex justify-content-between align-items-center mb-0 pt-5"><li><a href=/blog/2024/06/13/bit-manipulation/ aria-label="Previous - Bit Manipulation" class="btn btn-primary"><span class=me-1>←</span>Previous</a></li><li><a href=/blog/2024/06/13/backtracking/ aria-label="Next - Backtracking" class="btn btn-primary">Next<span class=ms-1>→</span></a></li></ul></div></main></div></div><footer style="text-align:center;padding:10px 0;background-color:#f8f9fa;color:#333"><p>&copy; 2024 Tiationg Kho. All rights reserved.</p><div style=margin-top:10px><a href=https://github.com/tiationg-kho target=_blank style="margin:0 10px;text-decoration:none;color:#333" class=social-icon><i class="fab fa-github" style=font-size:24px></i>
</a><a href=https://www.linkedin.com/in/tiationgkho/ target=_blank style="margin:0 10px;text-decoration:none;color:#333" class=social-icon><i class="fab fa-linkedin" style=font-size:24px></i>
</a><a href=mailto:tiationgkho@gmail.com target=_blank style="margin:0 10px;text-decoration:none;color:#333" class=social-icon><i class="fa fa-envelope" style=font-size:24px></i></a></div></footer></div><script src=/js/main.min.a2e3c391e7e407b36730ab9494112118a2558fef18689fffe4aec0f7b3ff3820.js integrity="sha256-ouPDkefkB7NnMKuUlBEhGKJVj+8YaJ//5K7A97P/OCA=" crossorigin=anonymous></script><script defer src=/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script></body></html>